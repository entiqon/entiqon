FROM squidfunk/mkdocs-material:9.4.7

WORKDIR /project

COPY mkdocs.yml requirements.txt ./
RUN echo "Config files copied"

RUN mkdir -p docs-site/dev/builder docs-site/dev/core docs-site/releases && echo "Docs directories created"

# Copy docs folder excluding docs/releases (excluded by .dockerignore)
COPY docs docs-site/

COPY CHANGELOG.md docs-site/
COPY releases/ docs-site/releases/
RUN echo "Documentation content copied"

EXPOSE 8000

CMD ["serve", "--dev-addr=0.0.0.0:8000"]
